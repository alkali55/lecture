<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script>
        $(function(){
            let burgerPrice = parseInt($("#burgerPrice").html());

            $(".side-menu").change(function(){
                // 각 사이드 메뉴가 모두 체크되면
                // 모두선택 체크박스도 checked 상태로 변경
                caltotal();
                // console.log($(".side-menu:checked"));
                if($(".side-menu").length == $(".side-menu:checked").length){
                    // 모두선택됨
                    $("#selectAll").prop("checked", true);
                } else {
                    $("#selectAll").prop("checked", false);
                }
            });

            //모두선택을 체크했을 때
            $("#selectAll").change(function(){
                // console.log($(this));
                if ($(this).prop("checked")){
                    $(".side-menu").prop("checked", true);
                } else {
                    $(".side-menu").prop("checked", false);
                }
                caltotal();
            });

            function caltotal(){
                // 총가격 계산
                let total = burgerPrice;
                $(".side-menu").each(function(i, item){
                    if ($(item).prop("checked")){
                        // console.log(parseInt($(item).val()));
                        let price = parseInt($(item).val());
                        // total += $(item).attr("value");
                        total += price;
                    }
                })
                console.log($("#totalPrice").text());
                $("#totalPrice").val("총가격: " + total + "원");
            }
        })
    </script>
</head>
<body>
    <h1>소고기 버거 (<span id ="burgerPrice">10000</span>원)</h1>
    <h2>사이드 메뉴 선택</h2>
    <input type="checkbox" class = "checkbox" id = "selectAll">모두선택</p>

    <input type="checkbox" class = "side-menu" value = "500">양상추 (500원)
    <input type="checkbox" class = "side-menu" value = "2000">패티 (2000원)
    <input type="checkbox" class = "side-menu" value = "1500">새우 (1500원)
    <input type="checkbox" class = "side-menu" value = "1000">치즈 (1000원)
    <input type="text" id="totalPrice">
</body>
</html>