<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>사용자 정의 객체</title>
    <script>
      // 통장 계좌를 만들보자.
      let account = new Object(); //  account라는 이름의 객체 생성
      console.log(typeof account);
      console.log(account);

      // account객체의 속성을 부여
      account.owner = "홍길동"; //  예금주
      account.accNum = "1111-023-04-56789"; // 계좌번호
      account.balance = 500; // 잔액
      account.name = "직장인 비과세 예금"; // 금융상품 이름
      account.bankName = "우리은행"; // 은행명

      console.log(account);

      // 속성부여의 또 다른 방식: []이용
      account["no"] = "123456";
      console.log(account);

      let accNo = "no";
      console.log(account[accNo]);
      account[accNo] = "98765"; // 속성 수정
      console.log(account[accNo]);
      console.log(account);

      // 속성 값
      console.log(account.bankName);

      document.write(`예금주 : ${account.owner}<br />`);
      document.write(`계좌번호 : ${account.accNum}<br />`);
      document.write(`잔액 : ${account.balance}<br />`);

      // 예금하기, 인출하기, 잔액조회하기 -> 기능(메서드)
      // 예금하기
      account.deposit = deposit;
      function deposit(money) {
        // 예금
        this.balance += money;
      }

      //   account.deposit = function deposit(돈) {
      //     // 예금
      //     this.balance += money;
      //   };

      account.deposit(3000000);
      console.log(account.balance);

      account.deposit(100000);
      console.log(account.balance);

      function inquiry() {
        // 잔액 조회
        return this.balance;
      }

      account.checkBalance = inquiry;
      console.log("잔액조회:" + account.checkBalance());

      account.deposit(500);
      console.log("잔액조회:" + account.checkBalance());

      function withdraw(money) {
        // 인출하기
        // this.balance = this.balance - money;
        if (this.balance >= money) {
          this.balance -= money;
        } else {
          window.alert("잔액이 부족합니다");
        }
      }

      account.withdraw = withdraw; // 인출 메서드

      account.withdraw(3000000);
      console.log(account.checkBalance());

      account.withdraw(100000);
      console.log(account.checkBalance());

      account.withdraw(1000);
      console.log(account.checkBalance());

      account.withdraw(10000);
      console.log(account.checkBalance());

      // 2번째 계좌를 만들어보자.
      let account2 = new Object();
      account2.owner = "이대호";
      account2.accNum = "1111-023-04-56790"; // 계좌번호
      account2.balance = 1000000; // 잔액
      account2.name = "직장인 비과세 예금"; // 금융상품 이름
      account2.bankName = "우리은행"; // 은행명

      account2.deposit = deposit;
      account2.checkBalance = inquiry;
      account2.withdraw = withdraw;

      console.log(account2);
      account2.deposit(100);
      console.log(account2.checkBalance());
      account2.withdraw(1000000);
      console.log(account2.checkBalance());

    </script>
  </head>
  <body></body>
</html>
